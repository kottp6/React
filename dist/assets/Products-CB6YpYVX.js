import{r as s,j as r,L as g,b as m}from"./index-D1iCoGWQ.js";import{P as x}from"./Product-DFBqJOme.js";function p(){const[l,t]=s.useState([]),[o,c]=s.useState(null),[d,n]=s.useState(!1),[a,i]=s.useState("");console.log(a);async function u(){n(!0);try{const{data:e}=await m.get("https://ecommerce.routemisr.com/api/v1/products");console.log(e.data),t(e.data),c(null)}catch(e){console.log(e),c(e.response.data.message),t([])}finally{n(!1)}}return s.useEffect(()=>{u()},[]),r.jsx(r.Fragment,{children:r.jsx("section",{className:"py-10",children:r.jsxs("div",{className:"container mx-auto",children:[r.jsx("input",{type:"search",id:"",name:"",onChange:e=>i(e.target.value),className:"mb-5 bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-green-500 focus:border-green-500 block w-full p-2.5 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-green-500 dark:focus:border-green-500",placeholder:"Search For Product"}),r.jsx("h1",{className:"text-lg",children:"Products"}),d?r.jsx(g,{}):o?r.jsx("div",{className:"alert alert-error",children:o}):r.jsx("div",{className:"row",children:l.filter(e=>a.toLowerCase()===""?e:e.title.toLowerCase().includes(a)).map(e=>r.jsx(x,{product:e},e.id))})]})})})}export{p as default};
