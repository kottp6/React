import{r as c,C as u,j as e,L as y,d as b,B as t}from"./index-D1iCoGWQ.js";function N(){var l;const{getCart:f,cartDetails:r,numOfCartItems:d,deleteProduct:a,deleteAllProducts:i,updateItem:x}=c.useContext(u),[h,j]=c.useState(!1);async function m(s){(await a(s)).status==="success"?t.success("Product Removed Successfully"):t.error("Product Not Removed")}async function g(){await i(),t.success("Product Removed Successfully")}async function n(s,o){(await x(s,o)).status==="success"?t.success("Product Updated Successfully"):t.error("Something went wrong")}return e.jsx(e.Fragment,{children:h?e.jsx(y,{}):e.jsx("section",{className:"py-20",children:e.jsxs("div",{className:"container mx-auto",children:[e.jsx("h1",{className:"text-3xl font-bold",children:"Cart"}),e.jsxs("button",{onClick:g,className:"btn btn-red",children:[e.jsx("i",{className:"fa-solid fa-trash mx-2"}),"Clear Cart"]}),r&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{className:"flex justify-between py-3",children:[e.jsxs("h4",{className:"text-xl",children:["Total Item :",e.jsxs("span",{className:"text-green-500 ",children:[" ",d," items"]})]}),e.jsxs("h4",{className:"text-xl",children:["Total Price :",e.jsxs("span",{className:"text-green-500 pr-2",children:[" ",r==null?void 0:r.totalCartPrice," EGP"]})]})]}),e.jsx("div",{className:"relative overflow-x-auto shadow-md sm:rounded-lg",children:e.jsxs("table",{className:"w-full text-sm text-left rtl:text-right text-gray-500 dark:text-gray-400",children:[e.jsx("thead",{className:"text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400",children:e.jsxs("tr",{children:[e.jsx("th",{scope:"col",className:"px-16 py-3",children:e.jsx("span",{className:"sr-only",children:"Image"})}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Product"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Qty"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Price"}),e.jsx("th",{scope:"col",className:"px-6 py-3",children:"Action"})]})}),e.jsx("tbody",{children:(l=r==null?void 0:r.products)==null?void 0:l.map(s=>e.jsxs("tr",{className:"bg-white border-b dark:bg-gray-800 dark:border-gray-700 hover:bg-gray-50 dark:hover:bg-gray-600",children:[e.jsx("td",{className:"p-4",children:e.jsx("img",{src:s==null?void 0:s.product.imageCover,className:"w-16 md:w-32 max-w-full max-h-full",alt:"Apple Watch"})}),e.jsx("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:s==null?void 0:s.product.title}),e.jsx("td",{className:"px-6 py-4",children:e.jsxs("div",{className:"flex items-center",children:[e.jsxs("button",{onClick:()=>n(s==null?void 0:s.product.id,(s==null?void 0:s.count)-1<=0?a(s.product.id):s.count-1),className:"inline-flex items-center justify-center p-1 me-3 text-sm font-medium h-6 w-6 text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button",children:[e.jsx("span",{className:"sr-only",children:"Quantity button"}),e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 2",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M1 1h16"})})]}),e.jsx("div",{children:e.jsx("input",{type:"number",id:"first_product",className:"bg-gray-50 w-14 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block px-2.5 py-1 dark:bg-gray-700 dark:border-gray-600 dark:placeholder-gray-400 dark:text-white dark:focus:ring-blue-500 dark:focus:border-blue-500",placeholder:s.count,required:!0})}),e.jsxs("button",{onClick:()=>n(s.product.id,s.count+1),className:"inline-flex items-center justify-center h-6 w-6 p-1 ms-3 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-full focus:outline-none hover:bg-gray-100 focus:ring-4 focus:ring-gray-200 dark:bg-gray-800 dark:text-gray-400 dark:border-gray-600 dark:hover:bg-gray-700 dark:hover:border-gray-600 dark:focus:ring-gray-700",type:"button",children:[e.jsx("span",{className:"sr-only",children:"Quantity button"}),e.jsx("svg",{className:"w-3 h-3","aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 18 18",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M9 1v16M1 9h16"})})]})]})}),e.jsxs("td",{className:"px-6 py-4 font-semibold text-gray-900 dark:text-white",children:[s.price," EGP"]}),e.jsx("td",{className:"px-6 py-4",children:e.jsx("span",{onClick:()=>m(s.product.id),className:" cursor-pointer font-medium text-red-600 dark:text-red-500 hover:underline",children:"Remove"})})]},s.product.id))})]})}),e.jsx(b,{to:"/checkout",className:"btn btn-green w-full block my-10 text-center",children:"Checkout"})]})]})})})}export{N as default};
